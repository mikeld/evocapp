(function(b,a){typeof define=='function'&&define.amd?define(a):typeof exports=='object'?module.exports=a():b.NProgress=a()})(this,function(){var a={},b,l,d;a.version='0.2.0',b=a.settings={minimum:.08,easing:'linear',positionUsing:'',speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:'body',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'},a.configure=function(c){var a,d;for(a in c)d=c[a],d!==void 0&&c.hasOwnProperty(a)&&(b[a]=d);return this},a.status=null,a.set=function(c){var h=a.isStarted(),e,i,g,j;return c=f(c,b.minimum,1),a.status=c===1?null:c,e=a.render(!h),i=e.querySelector(b.barSelector),g=b.speed,j=b.easing,e.offsetWidth,l(function(f){b.positionUsing===''&&(b.positionUsing=a.getPositioningCSS()),d(i,k(c,g,j)),c===1?(d(e,{transition:'none',opacity:1}),e.offsetWidth,setTimeout(function(){d(e,{transition:'all '+g+'ms linear',opacity:0}),setTimeout(function(){a.remove(),f()},g)},g)):setTimeout(f,g)}),this},a.isStarted=function(){return typeof a.status=='number'},a.start=function(){a.status||a.set(0);var c=function(){setTimeout(function(){if(!a.status)return;a.trickle(),c()},b.trickleSpeed)};return b.trickle&&c(),this},a.done=function(b){return!b&&!a.status?this:a.inc(.3+.5*Math.random()).set(1)},a.inc=function(c){var b=a.status;if(!b)return a.start();if(b>1)return;return typeof c!='number'&&(b>=0&&b<.2?c=.1:b>=.2&&b<.5?c=.04:b>=.5&&b<.8?c=.02:b>=.8&&b<.99?c=.005:c=0),b=f(b+c,0,.994),a.set(b)},a.trickle=function(){return a.inc()},function(){var c=0,b=0;a.promise=function(d){return!d||d.state()==="resolved"?this:(b===0&&a.start(),c++,b++,d.always(function(){b--,b===0?(c=0,a.done()):a.set((c-b)/c)}),this)}}(),a.render=function(l){var e,j,k,f,h;return a.isRendered()?document.getElementById('nprogress'):(i(document.documentElement,'nprogress-busy'),e=document.createElement('div'),e.id='nprogress',e.innerHTML=b.template,j=e.querySelector(b.barSelector),k=l?'-100':c(a.status||0),f=document.querySelector(b.parent),d(j,{transition:'all 0 linear',transform:'translate3d('+k+'%,0,0)'}),b.showSpinner||(h=e.querySelector(b.spinnerSelector),h&&g(h)),f!=document.body&&i(f,'nprogress-custom-parent'),f.appendChild(e),e)},a.remove=function(){j(document.documentElement,'nprogress-busy'),j(document.querySelector(b.parent),'nprogress-custom-parent');var a=document.getElementById('nprogress');a&&g(a)},a.isRendered=function(){return!!document.getElementById('nprogress')},a.getPositioningCSS=function(){var a=document.body.style,b='WebkitTransform'in a?'Webkit':'MozTransform'in a?'Moz':'msTransform'in a?'ms':'OTransform'in a?'O':'';return b+'Perspective'in a?'translate3d':b+'Transform'in a?'translate':'margin'};function f(a,b,c){return a<b?b:a>c?c:a}function c(a){return(-1+a)*100}function k(d,e,f){var a;return b.positionUsing==='translate3d'?a={transform:'translate3d('+c(d)+'%,0,0)'}:b.positionUsing==='translate'?a={transform:'translate('+c(d)+'%,0)'}:a={'margin-left':c(d)+'%'},a.transition='all '+e+'ms '+f,a}l=function(){var a=[];function b(){var c=a.shift();c&&c(b)}return function(c){a.push(c),a.length==1&&b()}}(),d=function(){var a=['Webkit','O','Moz','ms'],b={};function d(a){return a.replace(/^-ms-/,'ms-').replace(/-([\da-z])/gi,function(b,a){return a.toUpperCase()})}function e(b){var d=document.body.style,e,f,c;if(b in d)return b;for(e=a.length,f=b.charAt(0).toUpperCase()+b.slice(1),c;e--;)if(c=a[e]+f,c in d)return c;return b}function f(a){return a=d(a),b[a]||(b[a]=e(a))}function c(b,a,c){a=f(a),b.style[a]=c}return function(f,b){var d=arguments,a,e;if(d.length==2){for(a in b)e=b[a],e!==void 0&&b.hasOwnProperty(a)&&c(f,a,e)}else c(f,d[1],d[2])}}();function h(a,b){var c=typeof a=='string'?a:e(a);return c.indexOf(' '+b+' ')>=0}function i(a,b){var c=e(a),d=c+b;if(h(c,b))return;a.className=d.substring(1)}function j(a,c){var d=e(a),b;if(!h(a,c))return;b=d.replace(' '+c+' ',' '),a.className=b.substring(1,b.length-1)}function e(a){return(' '+(a&&a.className||'')+' ').replace(/\s+/gi,' ')}function g(a){a&&a.parentNode&&a.parentNode.removeChild(a)}return a})